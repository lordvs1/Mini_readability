# Mini_readability
Задача Python – Mini readability

  Класс Readability
  Конструктор:
		
	Readability(url), где url – ссылка на сайт.
	__main_domain_stat = url
	__response = requests.get(self.__main_domain_stat)
	root = html.parse(StringIO(self.__response.text)).getroot()

  Методы:
	
	try_response(url) – проверка url на ошибки страницы (true-успешно, false-ошибка доступа, либо стр не существует)
	
	find_text(el, more_tag) – el – элемент типа lxml.html.HtmlElement, more_tag – список дополнительных тегов. Возвращает текст со страницы.
	
	In_file(str) – записывает str – текст в файл и создает путь к нему из текущей директории путем преобразования __main_domain_stat.
	
	__internal_link(main_link, internal_tag) – получение абсолютной ссылки, так как на некоторых сайтах используются не полные ссылки. Делает слияние main_link и internal_tag и возвращает строку.
	
	__get_cur_path(link) – обрабатывает входной link и возвращает строку - новый путь к создаваемой директории.
	
	__get_new_filename(link) – обрабатывает входной link и возвращает строку с именем файла (заменяет .html или другие расширения на .txt и сокращает только до короткого имени) возвращает строку с именем файла.

1.	Получение DOM дерева html страницы по заданному url. Используя библиотеки requests для доступа по url и получение DOM дерева с помощью библиотеки lxml.
2.	Обход дерева используя установленные теги. Проанализировав сайты, можно понять, что «основной» текст находиться внутри <body> в тегах p,h1,h2,h3, следовательно, нас интересуют именно эти теги. Но все сайты написаны по-разному и разными методами поэтому эти теги будут дополнены см. пункт 5.
3.	Если внутри тега текст имеется длинный текст, грабим его. В полученном тексте выделить ссылки в [] скобки. Так как внутри «основного» текста могут находиться ссылки, а это тег <a>, следовательно, получаем их путем доступа к нижнему уровню элемента из библиотеки lxml и метода «.text».
4.	Выполнение усложнения 1: из полученного url создается путь с файлом, в него записывается файл, полученный на предыдущем этапе. На этом этапе реализуется создание новых директорий, путем преобразования строк с исходным url методами __get_cur_path(link) и __get_new_filename(link) описание см.ниже. После происходит запись в файл методом In_file(str).
5.	Выполнение усложнения 2: в текстовом документе в папке вместе с исполняемым файлом хранить дополнительные теги, с которых тоже можно производить парсинг, хранить в виде списка через ‘,’. На этом этапе организован файл под названием more_tag.txt если он есть, то полученные оттуда теги будут переданы в метод find_text(el, more_tag) и по данным тегам также будет проводиться парсинг.

